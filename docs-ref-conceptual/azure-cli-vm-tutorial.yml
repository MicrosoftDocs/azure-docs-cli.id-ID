### YamlMime:Tutorial
title: Membuat mesin virtual (VM) – Azure CLI | Microsoft Dokumen
metadata:
  title: Membuat mesin virtual (VM) – Azure CLI | Microsoft Dokumen
  description: Pelajari cara membuat mesin virtual (VM) dengan Azure CLI dengan menyelesaikan tutorial ini melalui Azure Cloud Shell atau dengan menginstal CLI secara lokal.
  audience: Developer
  level: Beginner
  displayType: two-column
  interactive: azurecli
  ms.date: 07/09/2018
  ms.author: dbradish
  author: dbradish-microsoft
  manager: barbkess
  ms.devlang: azure-cli
  ms.topic: tutorial
  ms.prod: azure
  ms.technology: azurecli
  ms.custom: devx-track-azurecli, seo-azure-cli
  clicktale: true
  keywords: azure cli create vm, virtual machine in azure cli
  ms.openlocfilehash: 3e141780e0aa3976c4ee14b86f22de9c3eb95f6a
  ms.sourcegitcommit: 766c21c494eb7fbdc5160c437868c187c0b6e587
  ms.translationtype: MT
  ms.contentlocale: id-ID
  ms.lasthandoff: 02/17/2022
  ms.locfileid: "138916652"
items:
- durationInMinutes: 1
  content: >-
    Dalam tutorial ini, Anda mempelajari semua langkah yang terlibat dalam membuat mesin virtual dengan Azure CLI. Tutorial ini juga mencakup kueri output, penggunaan kembali sumber daya Azure, dan pembersihan sumber daya.


    Tutorial ini dapat diselesaikan dengan pengalaman interaktif yang ditawarkan melalui Azure Cloud Shell, atau Anda dapat [menginstal CLI](install-azure-cli.md) secara lokal.


    Gunakan __ctrl-shift-v__ (__cmd-shift-v__ di macOS) untuk menempelkan teks tutorial ke Azure Cloud Shell.
- durationInMinutes: 1
  title: Masuk
  content: "Jika Anda menggunakan pemasangan CLI lokal, Anda harus masuk sebelum melakukan langkah-langkah lain.\n\n```azurecli-interactive\naz login\n```\n\nSelesaikan proses autentikasi dengan mengikuti langkah-langkah yang ditampilkan di terminal Anda. "
- durationInMinutes: 1
  title: Membuat grup sumber daya
  content: >-
    Di Azure, semua sumber daya dialokasikan dalam grup manajemen sumber daya. Kelompok sumber daya menyediakan pengelompokan sumber daya logis yang membuatnya lebih mudah untuk dikerjakan sebagai koleksi. Untuk tutorial ini, semua sumber daya yang dibuat masuk ke dalam satu kelompok bernama `TutorialResources`.


    ```azurecli

    az group create --name TutorialResources --location eastus

    ```
- durationInMinutes: 4
  title: Membuat komputer virtual
  content: "Mesin virtual di Azure memiliki sejumlah besar dependensi. CLI membuat sumber daya ini untuk Anda berdasarkan argumen baris perintah yang Anda tentukan.\n\nBuat mesin virtual baru yang menjalankan Ubuntu, yang menggunakan otentikasi SSH untuk login.\n\n```azurecli-interactive\naz vm create --resource-group TutorialResources \\\n  --name TutorialVM1 \\\n  --image UbuntuLTS \\\n  --generate-ssh-keys \\\n  --output json \\\n  --verbose \n```\n\n> [!NOTE]\n> Jika Anda memiliki kunci `id_rsa` SSH bernama sudah tersedia, kunci ini digunakan untuk otentikasi daripada memiliki kunci baru yang dihasilkan.\n\nSaat VM dibuat, Anda akan melihat nilai lokal yang digunakan dan sumber daya Azure dibuat karena opsi tersebut `--verbose` .\nSetelah VM siap, JSON dikembalikan dari layanan Azure termasuk alamat IP publik.\n\n```json\n{\n  \"fqdns\": \"\",\n  \"id\": \"...\",\n  \"location\": \"eastus\",\n  \"macAddress\": \"...\",\n  \"powerState\": \"VM running\",\n  \"privateIpAddress\": \"...\",\n  \"publicIpAddress\": <PUBLIC_IP_ADDRESS>,\n  \"resourceGroup\": \"TutorialResources\",\n  \"zones\": \"\"\n}\n```\n\nKonfirmasikan bahwa VM berjalan dengan menghubungkan melalui SSH.\n\n```bash\nssh <PUBLIC_IP_ADDRESS>\n```\n\nLanjutkan dan keluar dari VM.\n\nAda cara lain untuk mendapatkan alamat IP ini setelah VM dimulai. Di bagian berikutnya Anda akan melihat cara mendapatkan informasi terperinci tentang VM, dan cara memfilternya."
- durationInMinutes: 3
  title: Mendapatkan informasi VM dengan kueri
  content: "Sekarang vm telah dibuat, informasi rinci tentang hal itu dapat diambil. Perintah umum untuk mendapatkan informasi dari sumber daya adalah `show`.\n\n```azurecli-interactive\naz vm show --name TutorialVM1 --resource-group TutorialResources\n```\n\nAnda akan melihat banyak informasi, yang bisa sulit diurai secara visual. JSON yang dikembalikan berisi informasi tentang otentikasi, antarmuka jaringan, penyimpanan, dan banyak lagi. Yang paling penting, ini berisi ID objek Azure untuk sumber daya yang terhubung dengan VM. ID objek memungkinkan mengakses sumber daya ini secara langsung untuk mendapatkan informasi lebih lanjut tentang konfigurasi dan kemampuan VM. \n\nUntuk mengekstrak ID objek yang kita inginkan, `--query` argumen digunakan. Kueri ditulis dalam [bahasa kueri JMESPath](http://jmespath.org). Mulailah dengan mendapatkan ID objek network interface controller (NIC).\n\n```azurecli-interactive\naz vm show --name TutorialVM1 \\\n  --resource-group TutorialResources \\\n  --query 'networkProfile.networkInterfaces[].id' \\\n  --output tsv\n```\n\nAda banyak hal yang terjadi di sini, hanya dengan menambahkan kueri. Setiap bagiannya mereferensikan kunci dalam JSON output, atau merupakan operator JMESPath.\n\n* `networkProfile` adalah kunci dari JSON tingkat atas, yang memiliki `networkInterfaces` subkunci. Jika nilai JSON adalah kamus, kuncinya dirujuk dari kunci induk dengan `.` operator.\n* Nilainya `networkInterfaces` adalah array, sehingga diratakan dengan `[]` operator. Operator ini menjalankan sisa kueri pada setiap elemen array. Dalam hal ini, ia mendapat `id` nilai dari setiap elemen array.\n\nFormat `tsv` output (nilai yang dipisahkan tab) dijamin hanya mencakup data hasil dan spasi yang terdiri dari tab dan garis baru.\nKarena nilai yang dikembalikan adalah string telanjang tunggal, aman untuk menetapkan langsung ke variabel lingkungan.\n\nLanjutkan dan tetapkan ID objek NIC ke variabel lingkungan sekarang.\n\n```azurecli-interactive\nNIC_ID=$(az vm show -n TutorialVM1 -g TutorialResources \\\n  --query 'networkProfile.networkInterfaces[].id' \\\n  -o tsv)\n```\n\nContoh ini juga menunjukkan penggunaan argumen singkat. Anda dapat menggunakan `-g` bukan, `--resource-group``-n` bukan`--name`, bukan`-o`.`--output`"
- durationInMinutes: 4
  title: Mengatur variabel lingkungan dari output CLI
  content: >-
    Sekarang setelah Anda memiliki ID NIC, jalankan `az network nic show` untuk mendapatkan informasinya. Perhatikan bahwa Anda tidak memerlukan grup sumber daya di sini, karena nama grup sumber daya terkandung dalam ID sumber daya Azure.


    ```azurecli-interactive

    az network nic show --ids $NIC_ID

    ```



    Perintah ini menunjukkan semua informasi untuk antarmuka jaringan VM. Data ini mencakup pengaturan DNS, informasi IP, pengaturan keamanan, dan alamat MAC. Saat ini tujuannya adalah untuk mendapatkan alamat IP publik dan IP objek subnet.


    ```azurecli-interactive

    az network nic show --ids $NIC_ID \
      --query '{IP:ipConfigurations[].publicIpAddress.id, Subnet:ipConfigurations[].subnet.id}' \
      -o json
    ```


    ```json

    {
      "IP": [
        "/subscriptions/.../resourceGroups/TutorialResources/providers/Microsoft.Network/publicIPAddresses/TutorialVM1PublicIP"
      ],
      "Subnet": [
        "/subscriptions/.../resourceGroups/TutorialResources/providers/Microsoft.Network/virtualNetworks/TutorialVM1VNET/subnets/TutorialVM1Subnet"
      ]
    }

    ```


    Perintah ini menampilkan objek JSON yang memiliki tombol kustom ('IP' dan 'Subnet') untuk nilai yang diekstraksi. Meskipun gaya output ini mungkin tidak berguna untuk alat baris perintah, ini membantu dengan keterbacaan manusia dan dapat digunakan dengan skrip khusus.


    Untuk menggunakan alat baris perintah, ubah perintah untuk menghapus tombol dan output JSON kustom sebagai `tsv`. Gaya output ini dapat diproses oleh perintah shell `read` untuk memuat hasil ke dalam beberapa variabel. Karena dua nilai pada baris terpisah ditampilkan, `read` pembatas perintah harus diatur ke string kosong daripada default spasi putih non-newline.


    ```azurecli-interactive

    read -d '' IP_ID SUBNET_ID <<< $(az network nic show \
      --ids $NIC_ID \
      --query '[ipConfigurations[].publicIpAddress.id, ipConfigurations[].subnet.id]' \
      -o tsv)
    ```


    Anda tidak akan menggunakan SUBNET ID segera, tetapi harus disimpan sekarang untuk menghindari harus melakukan pencarian kedua nanti. Untuk saat ini, gunakan ID objek IP publik untuk mencari alamat IP publik dan menyimpannya dalam variabel shell.


    ```azurecli-interactive

    VM1_IP_ADDR=$(az network public-ip show --ids $IP_ID \
      --query ipAddress \
      -o tsv)
    ```


    Sekarang Anda memiliki alamat IP VM yang disimpan dalam variabel shell. Lanjutkan dan periksa apakah itu adalah nilai yang sama dengan yang anda gunakan untuk awalnya terhubung ke VM.


    ```bash

    echo $VM1_IP_ADDR

    ```
- durationInMinutes: 2
  title: Membuat VM baru di subnet yang ada
  content: >-
    VM kedua menggunakan subnet yang ada. Anda dapat melewati beberapa langkah untuk mendapatkan alamat IP publik dari VM baru yang disimpan ke dalam variabel lingkungan segera, karena dikembalikan dalam informasi pembuatan VM. Jika Anda memerlukan informasi lain tentang VM nanti, itu selalu dapat diperoleh dari `az vm show` perintah.


    ```azurecli

    VM2_IP_ADDR=$(az vm create -g TutorialResources \
      -n TutorialVM2 \
      --image UbuntuLTS \
      --generate-ssh-keys \
      --subnet $SUBNET_ID \
      --query publicIpAddress \
      -o tsv)
    ```


    Menggunakan alamat IP yang tersimpan, SSH ke dalam VM yang baru dibuat.


    ```bash

    ssh $VM2_IP_ADDR

    ```


    Lanjutkan dan keluar dari VM.
- durationInMinutes: 2
  title: Penghapusan
  content: >-
    Sekarang setelah tutorial selesai, saatnya untuk membersihkan sumber daya yang dibuat. Anda dapat menghapus sumber daya individual dengan `delete` perintah, tetapi cara teraman untuk menghapus semua sumber daya dalam grup sumber daya adalah dengan `group delete`.


    ```azurecli-interactive

    az group delete --name TutorialResources --no-wait

    ```


    Perintah ini menghapus sumber daya yang dibuat selama tutorial, dan dijamin akan deallocate mereka dalam urutan yang benar. Parameter `--no-wait` menjaga CLI dari pemblokiran saat penghapusan berlangsung. Jika Anda ingin menunggu sampai penghapusan selesai atau melihatnya berlanjut, gunakan perintah tersebut `group wait` .


    ```azurecli-interactive

    az group wait --name TutorialResources --deleted

    ```


    Dengan pembersihan selesai, tutorial selesai. Lanjutkan untuk ringkasan semua yang Anda pelajari dan tautan ke sumber daya yang akan membantu Anda dengan langkah selanjutnya.
- durationInMinutes: 1
  title: Ringkasan
  content: >-
    Selamat! Anda mempelajari cara membuat VM dengan sumber daya baru atau yang sudah ada, menggunakan `--query` dan `--output` argumen untuk menangkap data yang akan disimpan dalam variabel shell, dan melihat beberapa sumber daya yang dibuat untuk AZURE VM.


    Ke mana Anda pergi dari sini tergantung pada apa yang Anda rencanakan untuk menggunakan CLI. Ada berbagai materi yang melangkah lebih dalam pada fitur yang tercakup dalam tutorial ini.


    ### <a name="samples"></a>Sampel


    Jika Anda ingin segera memulai dengan tugas-tugas tertentu, lihat beberapa contoh skrip.


    * Bekerja dengan [VM Linux](/azure/virtual-machines/linux/cli-samples?toc=%2fcli%2fazure%2ftoc.json) dan [VM Windows](/azure/virtual-machines/windows/cli-samples?toc=%2fcli%2fazure%2ftoc.json)

    * Bekerja dengan [webapps](/azure/app-service/app-service-cli-samples?toc=%2Fcli%2Fazure%2Ftoc.json) dan [Azure Functions](/azure/azure-functions/functions-cli-samples?toc=%2fcli%2fazure%2ftoc.json)

    * Bekerja dengan database - [Azure SQL database](/azure/sql-database/sql-database-cli-samples?toc=%2fcli%2fazure%2ftoc.json), [PostgreSQL](/azure/postgresql/sample-scripts-azure-cli?toc=%2fcli%2fazure%2ftoc.json), [MySQL](/azure/mysql/sample-scripts-azure-cli?toc=%2fcli%2fazure%2ftoc.json), dan [CosmosDB](/azure/cosmos-db/cli-samples?toc=%2fcli%2fazure%2ftoc.json).


    ### <a name="in-depth-cli-documentation"></a>Dokumentasi CLI mendalam


    Ada juga topik yang masuk lebih dalam ke fitur CLI yang ditunjukkan dalam tutorial.


    * Pelajari format [output lebih lanjut](format-output-azure-cli.md)

    * Pelajari kueri [output lebih lanjut](query-azure-cli.md)

    * Pelajari lebih lanjut tentang [otorisasi di Azure](authenticate-azure-cli.md)


    ### <a name="other-useful-documentation"></a>Dokumentasi berguna lainnya


    Anda mungkin ingin meluangkan waktu untuk menjelajahi fitur CLI yang lebih canggih, seperti [mengonfigurasi default](azure-cli-configuration.md) atau [ekstensi](azure-cli-extensions-overview.md).


    ### <a name="feedback"></a>Saran dan Komentar


    Jika Anda ingin memberikan umpan balik, saran, atau mengajukan pertanyaan tentang CLI, ada beberapa cara bagi Anda untuk menghubungi.


    * `az feedback` adalah perintah bawaan untuk CLI yang memungkinkan memberikan umpan balik bentuk bebas kepada tim.

    * Ajukan permintaan fitur atau laporan bug dengan CLI di [repositori Azure CLI](https://github.com/Azure/azure-cli).

    * Ajukan pertanyaan atau dapatkan klarifikasi dengan mengajukan masalah di [repositori dokumentasi Azure CLI](https://github.com/MicrosoftDocs/azure-docs-cli/issues).


    Kami harap Anda menikmati menggunakan Azure CLI!
